(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},a={app:0},s=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var p=c;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"29f2":function(e,t,i){"use strict";i("baf6")},"2c34":function(e,t,i){"use strict";i("a956")},"2d3e":function(e,t,i){},"2e90":function(e,t,i){"use strict";i("9d5f")},"32b7":function(e,t,i){"use strict";i("f6dc")},3693:function(e,t,i){"use strict";i("c3ee")},5267:function(e,t,i){"use strict";i("e1f0")},5379:function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},s=[],r={name:"App",mounted:function(){this.$store.dispatch("fetchAll")}},o=r,c=(i("5c0b"),i("2877")),l=Object(c["a"])(o,a,s,!1,null,null,null),p=l.exports,u=i("8c4f"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("Sidebar",{staticClass:"sidebar"}),i("Map",{staticClass:"map"})],1)},f=[],v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"component",staticClass:"map",style:e.mapStyle,on:{mousedown:e.onMouseDown,mouseup:e.stopMoving,mousemove:e.onMouseMove,wheel:e.zoom,click:e.useTool}},[i("div",{ref:"map",staticClass:"mapContent",style:e.mapPositionStyle},[i("img",{ref:"image",staticClass:"image",attrs:{src:""+e.mapImageSrc,alt:""}}),e._l(e.pins,(function(t){return i("Pin",{key:t.id,style:e.pinStyle,attrs:{pin:t}})}))],2),i("IconButton",{staticClass:"addBtn",attrs:{primary:!0},on:{click:e.selectAddTool}},[e._v("add")]),i("Dialog",{staticClass:"addPinDialog",attrs:{title:"Create new pin",open:e.addPinDialogOpen},on:{close:e.closeAddPinDialog}},[i("TextInput",{attrs:{label:"Name"},model:{value:e.newPin.title,callback:function(t){e.$set(e.newPin,"title",t)},expression:"newPin.title"}}),i("TextInput",{attrs:{label:"Image-url"},model:{value:e.newPin.imageUrl,callback:function(t){e.$set(e.newPin,"imageUrl",t)},expression:"newPin.imageUrl"}}),i("TextInput",{attrs:{label:"Description"},model:{value:e.newPin.description,callback:function(t){e.$set(e.newPin,"description",t)},expression:"newPin.description"}}),i("Dropdown",{attrs:{value:this.newPin.category.title,values:e.categories,label:"Category"},on:{change:this.setNewPinCategory,createValue:e.createNewCategory},scopedSlots:e._u([{key:"value",fn:function(t){var n=t.value;return[i("p",[e._v(e._s(n.title+" "+(n.private?" (private)":"")))])]}}])}),i("Dropdown",{attrs:{value:this.newPin.type.title,values:e.types,label:"Type"},on:{change:this.setNewPinType,createValue:e.createNewType},scopedSlots:e._u([{key:"value",fn:function(t){var n=t.value;return[i("p",[e._v(e._s(n.title+" "+(n.private?" (private)":"")))])]}}])}),e.noCategory?i("p",{staticClass:"error"},[e._v("Please select or create a category.")]):e._e(),e.noType?i("p",{staticClass:"error"},[e._v("Please select or create a type.")]):e._e(),i("Button",{attrs:{primary:"",label:"Add"},on:{click:e.addPin}})],1)],1)},g=[],y=i("5530"),h=(i("99af"),i("d81d"),i("b0c0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pin",style:e.pinStyle},[i("div",{staticClass:"clicky",on:{click:e.toggleDetails}},[i("span",{staticClass:"material-icons pinIcon"},[e._v("place")])]),e.detailsOpen?i("div",{staticClass:"details"},[i("div",{staticClass:"detailsHeader"},[i("p",{staticClass:"pinTitle"},[e._v(" "+e._s(this.editing?"Edit pin":this.pin.title||"Untitled Pin")+" ")]),i("div",{staticClass:"headerBtns"},[e.pin.private&&!this.editing?i("span",{staticClass:"material-icons editBtn headerBtn",on:{click:e.editPin}},[e._v("edit")]):e._e(),i("span",{staticClass:"material-icons closeBtn headerBtn",on:{click:e.toggleDetails}},[e._v("close")])])]),this.editing?e._e():i("div",{staticClass:"detailsContent"},[this.pin.description||this.pin.imageUrl?e._e():i("div",{staticClass:"placeholder"},[i("p",[e._v("This pin does not have a description")])]),this.pin.imageUrl?i("div",{staticClass:"imageContainer"},[i("img",{attrs:{src:this.pin.imageUrl,alt:""}})]):e._e(),this.pin.description?i("p",{staticClass:"description"},[e._v(" "+e._s(this.pin.description)+" ")]):e._e()]),this.editing?i("div",{staticClass:"detailsContent"},[i("TextInput",{attrs:{label:"Title"},model:{value:e.editedPin.title,callback:function(t){e.$set(e.editedPin,"title",t)},expression:"editedPin.title"}}),i("TextInput",{attrs:{label:"Image-url"},model:{value:e.editedPin.imageUrl,callback:function(t){e.$set(e.editedPin,"imageUrl",t)},expression:"editedPin.imageUrl"}}),i("TextInput",{attrs:{label:"Description"},model:{value:e.editedPin.description,callback:function(t){e.$set(e.editedPin,"description",t)},expression:"editedPin.description"}}),i("Dropdown",{attrs:{value:this.editedPin.category.title,values:e.categories,label:"Category"},on:{change:this.setCategory,createValue:e.createNewCategory},scopedSlots:e._u([{key:"value",fn:function(t){var n=t.value;return[i("p",[e._v(e._s(n.title+" "+(n.private?" (private)":"")))])]}}],null,!1,3186276857)}),i("Dropdown",{attrs:{value:this.editedPin.type.title,values:e.types,label:"Type"},on:{change:this.setType,createValue:e.createNewType},scopedSlots:e._u([{key:"value",fn:function(t){var n=t.value;return[i("p",[e._v(e._s(n.title+" "+(n.private?" (private)":"")))])]}}],null,!1,3186276857)}),i("div",{staticClass:"horizontalFlex right gap10"},[i("Button",{attrs:{label:e.deleteBtnText},on:{click:e.deletePin}}),i("Button",{attrs:{label:"Cancel"},on:{click:e.cancelEditing}}),i("Button",{attrs:{primary:!0,label:"Save"},on:{click:e.saveChanges}})],1)],1):e._e()]):e._e()])}),m=[],b=(i("7db0"),i("d3b7"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:this.classes,on:{click:this.click}},[i("p",{staticClass:"label"},[e._v(e._s(this.label))])])}),P=[],C={name:"CustomButton",props:{primary:{type:Boolean,default:!1},label:String},computed:{classes:function(){return{buttonPrimary:this.primary,buttonSecondary:!this.primary}}},methods:{click:function(e){this.$emit("click",e)}}},_=C,x=(i("5267"),Object(c["a"])(_,b,P,!1,null,"241fea80",null)),T=x.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:this.inputClasses},[i("label",{style:this.labelStyles},[e._v(e._s(this.label))]),i("input",{ref:"input",attrs:{type:this.type},domProps:{value:this.value},on:{input:this.onInput,focus:this.activate,blur:this.deactivate,keypress:this.keypress}})])},O=[],D={name:"textinput",model:{prop:"value",event:"change"},props:{label:String,value:String,password:{type:Boolean,default:!1}},data:function(){return{active:!1}},methods:{onInput:function(e){this.$emit("change",e.target.value),this.$emit("input",e)},activate:function(){this.active=!0},deactivate:function(){this.active=!1},focus:function(){this.$refs.input.focus()},keypress:function(e){this.$emit("keypress",e)}},computed:{type:function(){return this.password?"password":"text"},empty:function(){return""==this.value&&!this.active},labelStyles:function(){return{"font-size":this.empty?"16px":"11px",transform:this.empty?"":"translate(3px, -16px)"}},inputClasses:function(){return{textinput:!0,active:this.active}}}},k=D,S=(i("f6d0"),Object(c["a"])(k,w,O,!1,null,"445d2b89",null)),j=S.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:this.classes},[i("div",{staticClass:"select",on:{click:e.toggle}},[i("p",{staticClass:"value"},[e._v(e._s(this.value||this.label))]),i("span",{staticClass:"material-icons"},[e._v(e._s(this.open?"expand_less":"expand_more"))])]),this.open?i("div",{staticClass:"values"},[e._l(e.values,(function(t){return i("div",{key:JSON.stringify(t),staticClass:"value",attrs:{"data-value":JSON.stringify(t)},on:{click:e.selectValue}},[e._t("value",null,{value:t})],2)})),e.canCreateValue?i("div",{staticClass:"valueInput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newValue,expression:"newValue"}],attrs:{type:"text",placeholder:e.newValuePlaceHolder},domProps:{value:e.newValue},on:{keypress:e.onNewValueKeypress,input:function(t){t.target.composing||(e.newValue=t.target.value)}}})]):e._e()],2):e._e()])},$=[],E={name:"dropdown",model:{prop:"value",event:"change"},props:{label:String,value:String,values:Array,canCreateValue:{type:Boolean,default:!0},newValuePlaceHolder:{type:String,default:"New Value"}},data:function(){return{active:!1,open:!1,newValue:""}},methods:{activate:function(){this.active=!0},deactivate:function(){this.active=!1},toggle:function(){this.open=!this.open},selectValue:function(e){this.$emit("change",e.currentTarget.dataset.value),this.open=!1},onNewValueKeypress:function(e){"Enter"==e.code&&this.$emit("createValue",this.newValue)}},computed:{labelStyles:function(){return{}},classes:function(){return{dropdown:!0,open:this.open}}}},B=E,M=(i("aae3"),Object(c["a"])(B,I,$,!1,null,"914f6c10",null)),N=M.exports,L=i("2f62"),R=i("fa7d"),A={name:"pin",components:{Button:T,TextInput:j,Dropdown:N},props:{pin:Object},data:function(){return{detailsOpen:!1,editing:!1,editedPin:{title:"",description:"",category:{},type:{}},confirmDelete:!1}},computed:Object(y["a"])(Object(y["a"])(Object(y["a"])({},Object(L["c"])({activeArea:function(e){return e.mapLocations[e.mapLocationIndex]},categories:function(e){return e.pins.categories},types:function(e){return e.pins.types}})),Object(L["b"])(["getType"])),{},{visible:function(){return this.getType(this.pin.typeId).visible&&this.activeArea.name==this.pin.area},pinStyle:function(){return{"margin-left":"".concat(this.pin.x,"px"),"margin-top":"".concat(this.pin.y,"px"),display:this.visible?"initial":"none"}},deleteBtnText:function(){return this.confirmDelete?"Confirm deletion":"Delete pin"}}),mounted:function(){},methods:{toggleDetails:function(){this.detailsOpen=!this.detailsOpen,this.detailsOpen||this.cancelEditing()},editPin:function(){var e=this;this.editedPin=Object(y["a"])(Object(y["a"])({},this.pin),{},{category:this.categories.find((function(t){return t.id==e.pin.categoryId})),type:this.types.find((function(t){return t.id==e.pin.typeId})),edited:!0}),this.editing=!0},deletePin:function(){this.confirmDelete?(this.$store.dispatch("deletePrivatePin",this.pin),this.confirmDelete=!1):this.confirmDelete=!0},saveChanges:function(){this.$store.dispatch("updatePrivatePin",this.editedPin),this.editing=!1,this.confirmDelete=!1},cancelEditing:function(){this.editing=!1,this.confirmDelete=!1},createNewType:function(e){var t=Object(R["genRandHex"])(20);this.editedPin.type={title:e,id:"private_".concat(t),visible:!0}},createNewCategory:function(e){var t=Object(R["genRandHex"])(20);this.editedPin.category={title:e,id:"private_".concat(t),visible:!0}},setCategory:function(e){var t=JSON.parse(e);this.editedPin.categoryId=t.id,this.category=t},setType:function(e){var t=JSON.parse(e);this.editedPin.typeId=t.id,this.type=t}}},V=A,H=(i("64ff"),Object(c["a"])(V,h,m,!1,null,"06b3c668",null)),F=H.exports,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:this.classes,on:{click:this.click}},[i("span",{staticClass:"material-icons"},[e._t("default")],2)])},J=[],z={name:"CustomButton",props:{primary:{type:Boolean,default:!1}},computed:{classes:function(){return{buttonPrimary:this.primary,buttonSecondary:!this.primary}}},methods:{click:function(e){this.$emit("click",e)}}},Y=z,W=(i("6aaf"),Object(c["a"])(Y,U,J,!1,null,"36ad7850",null)),X=W.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.open?i("div",{staticClass:"dialogWrapper"},[i("div",{staticClass:"clickAwayListener",on:{click:e.close}}),i("div",{staticClass:"dialog"},[i("div",{staticClass:"titleBar"},[i("p",{staticClass:"title"},[e._v(e._s(e.title))]),i("span",{staticClass:"material-icons closeBtn",on:{click:e.close}},[e._v("close")])]),i("div",{staticClass:"dialogContent"},[e._t("default")],2)])]):e._e()},q=[],G={name:"CustomDialog",props:{title:String,open:Boolean},methods:{close:function(){this.$emit("close")}}},Q=G,Z=(i("32b7"),Object(c["a"])(Q,K,q,!1,null,"4b060170",null)),ee=Z.exports,te={name:"movableMap",components:{Pin:F,Dropdown:N,Button:T,TextInput:j,IconButton:X,Dialog:ee},data:function(){return{moving:!1,mapPosition:{x:0,y:0},mouseDownPosition:{x:0,y:0},prevMapPosition:{x:0,y:0},canMove:!0,mapScale:1,addPinDialogOpen:!1,newPin:{title:"",description:"",imageUrl:"",category:{},type:{},x:0,y:0}}},computed:Object(y["a"])(Object(y["a"])(Object(y["a"])({},Object(L["c"])({activeArea:function(e){return e.mapLocations[e.mapLocationIndex]},categories:function(e){return e.pins.categories},types:function(e){return e.pins.types},pins:function(e){return e.pins.pins}})),Object(L["b"])(["privateCategories","privateTypes","privatePins"])),{},{mapPositionStyle:function(){return{transform:"scale(".concat(this.mapScale,") translate(").concat(this.mapPosition.x,"px, ").concat(this.mapPosition.y,"px)")}},mapImageSrc:function(){return this.$store.state.mapLocations[this.$store.state.mapLocationIndex].path},mapStyle:function(){return{cursor:this.canMove?this.moving?"grabbing":"grab":"crosshair"}},pinStyle:function(){return{transform:"scale(".concat(1/this.mapScale,") translate(-").concat(18*this.mapScale,"px, -").concat(18*this.mapScale,"px)")}},noCategory:function(){return void 0==this.newPin.category.id},noType:function(){return void 0==this.newPin.type.id}}),methods:{onMouseDown:function(e){this.canMove&&(this.moving=!0,this.mouseDownPosition.x=e.clientX,this.mouseDownPosition.y=e.clientY,this.prevMapPosition=Object(y["a"])({},this.mapPosition))},stopMoving:function(){this.moving=!1},onMouseMove:function(e){this.moving&&this.canMove&&this.moveMap(e),e.preventDefault()},moveMap:function(e){this.mapPosition.x=this.prevMapPosition.x+(e.clientX-this.mouseDownPosition.x)/this.mapScale,this.mapPosition.y=this.prevMapPosition.y+(e.clientY-this.mouseDownPosition.y)/this.mapScale},zoom:function(e){this.canMove&&(e.deltaY>0?this.mapScale*=.9:(this.mapScale*=1.1,this.mapPosition))},selectAddTool:function(){var e=this;setTimeout((function(){e.canMove=!1}),100),window.addEventListener("keydown",this.cancelTool)},useTool:function(e){if(!this.canMove&&!this.addPinDialogOpen){this.mouseDownPosition.x=e.clientX,this.mouseDownPosition.y=e.clientY;var t=this.$refs.map.getBoundingClientRect();this.newPin.x=(e.clientX-t.x)/this.mapScale,this.newPin.y=(e.clientY-t.y)/this.mapScale,this.openAddPinDialog()}},cancelTool:function(e){"Escape"==e.code&&(this.canMove=!0,window.removeEventListener("keydown",this.cancelTool))},openAddPinDialog:function(){this.addPinDialogOpen=!0},closeAddPinDialog:function(){this.canMove=!0,this.addPinDialogOpen=!1},addPin:function(){if(!this.noCategory&&!this.noType){var e=Object(R["genRandHex"])(20),t=Object(y["a"])(Object(y["a"])({},this.newPin),{},{id:"private_".concat(e),area:this.activeArea.name});this.$store.dispatch("addPrivatePin",t),this.closeAddPinDialog()}},createNewType:function(e){var t=Object(R["genRandHex"])(20);this.newPin.type={title:e,id:"private_".concat(t),visible:!0}},createNewCategory:function(e){var t=Object(R["genRandHex"])(20);this.newPin.category={title:e,id:"private_".concat(t),visible:!0}},setNewPinCategory:function(e){var t=JSON.parse(e);this.newPin.categoryId=t.id,this.newPin.category=t},setNewPinType:function(e){var t=JSON.parse(e);this.newPin.typeId=t.id,this.newPin.type=t}}},ie=te,ne=(i("2e90"),Object(c["a"])(ie,v,g,!1,null,"f90c638c",null)),ae=ne.exports,se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sidebar"},[i("div",{staticClass:"locations"},[i("Tabs",{attrs:{values:e.mapLocations.map((function(e){return e.name})),index:this.$store.state.mapLocationIndex},on:{change:e.changeMapLocation}})],1),i("p",[e._v("Categories")]),e._l(e.categories,(function(t){return i("FoldableSection",{key:t.id,staticClass:"category",scopedSlots:e._u([{key:"header",fn:function(n){return[i("p",{staticClass:"title"},[e._v(e._s(t.title+" "+(t.private?"(private)":"")))]),i("div",{staticClass:"headerBtns"},[t.private?i("span",{staticClass:"material-icons editBtn toggleBtn",on:{click:function(i){return i.stopPropagation(),e.editCategory(t)}}},[e._v(" edit ")]):e._e(),i("span",{staticClass:"material-icons"},[e._v(e._s(n.open?"expand_less":"expand_more"))])])]}},{key:"content",fn:function(){return e._l(e.getCategoryTypes(t.id),(function(t){return i("div",{key:t.id,staticClass:"toggleWrapper"},[i("ToggleSwitch",{attrs:{on:t.visible,label:t.title+" "+(t.private?"(private)":"")+" ("+e.getTypePins(t.id).length+")"},on:{change:function(){e.toggleType(t)}}}),t.private?i("span",{staticClass:"material-icons editBtn toggleBtn",on:{click:function(i){return e.editType(t)}}},[e._v(" edit ")]):e._e()],1)}))},proxy:!0}],null,!0)})})),i("Dialog",{staticClass:"editTypeDialog editDialog",attrs:{open:e.editTypeDialogOpen,title:"Edit type"},on:{close:e.closeEditTypeDialog}},[i("TextInput",{attrs:{label:"Title"},model:{value:e.editableType.title,callback:function(t){e.$set(e.editableType,"title",t)},expression:"editableType.title"}}),i("TextInput",{attrs:{label:"Description"},model:{value:e.editableType.description,callback:function(t){e.$set(e.editableType,"description",t)},expression:"editableType.description"}}),i("Dropdown",{attrs:{value:this.editableType.category.title,values:e.categories,label:"Category"},on:{change:this.setTypeCategory,createValue:e.createNewCategory},scopedSlots:e._u([{key:"value",fn:function(t){var n=t.value;return[i("p",[e._v(e._s(n.title+" "+(n.private?" (private)":"")))])]}}])}),i("div",{staticClass:"horizontalFlex gap10 right"},[i("Button",{attrs:{label:e.deleteTypeBtnLabel},on:{click:e.deleteEditableType}}),i("Button",{attrs:{primary:"",label:"Save"},on:{click:e.saveEditableType}})],1)],1),i("Dialog",{staticClass:"editCategoryDialog editDialog",attrs:{open:e.editCategoryDialogOpen,title:"Edit type"},on:{close:e.closeEditCategoryDialog}},[i("TextInput",{attrs:{label:"Title"},model:{value:e.editableCategory.title,callback:function(t){e.$set(e.editableCategory,"title",t)},expression:"editableCategory.title"}}),i("TextInput",{attrs:{label:"Description"},model:{value:e.editableCategory.description,callback:function(t){e.$set(e.editableCategory,"description",t)},expression:"editableCategory.description"}}),i("div",{staticClass:"horizontalFlex gap10 right"},[i("Button",{attrs:{label:e.deleteCategoryBtnLabel},on:{click:e.deleteEditableCategory}}),i("Button",{attrs:{primary:"",label:"Save"},on:{click:e.saveEditableCategory}})],1)],1)],2)},re=[],oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"foldableSection"},[i("div",{staticClass:"sectionHeader",on:{click:e.toggle}},[e._t("header",(function(){return[i("p",{staticClass:"title"},[e._v(e._s(e.title))]),i("span",{staticClass:"material-icons"},[e._v(e._s(e.open?"expand_less":"expand_more"))])]}),{open:e.open})],2),this.open?i("div",{staticClass:"content"},[e._t("content")],2):e._e()])},ce=[],le={name:"foldableSection",props:{title:String},data:function(){return{open:!0}},methods:{toggle:function(){this.open=!this.open}}},pe=le,ue=(i("9824"),Object(c["a"])(pe,oe,ce,!1,null,"4e77738a",null)),de=ue.exports,fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"toggleSwitch",on:{click:e.toggle}},[i("span",{staticClass:"material-icons"},[e._v(e._s(this.on?"check_box":"check_box_outline_blank"))]),i("p",[e._v(e._s(this.label))])])},ve=[],ge={name:"ToggleSwitch",model:{event:"change",prop:"on"},props:{on:Boolean,label:String},methods:{toggle:function(){this.$emit("change",!this.on)}}},ye=ge,he=(i("3693"),Object(c["a"])(ye,fe,ve,!1,null,"e90ed4c8",null)),me=he.exports,be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tabs"},e._l(e.values,(function(t,n){return i("div",{key:t,class:e.classes(t),attrs:{"data-index":n},on:{click:e.select}},[e._v(" "+e._s(t)+" ")])})),0)},Pe=[],Ce=(i("a9e3"),i("ddb0"),{name:"tabs",props:{values:Array,index:Number},methods:{select:function(e){this.$emit("change",parseInt(e.target.dataset.index))},classes:function(e){return{tab:!0,active:e===this.values[this.index]}}}}),_e=Ce,xe=(i("29f2"),Object(c["a"])(_e,be,Pe,!1,null,"389c8010",null)),Te=xe.exports,we={name:"sidebar",components:{Button:T,Tabs:Te,FoldableSection:de,ToggleSwitch:me,Dialog:ee,Dropdown:N,TextInput:j},data:function(){return{editTypeDialogOpen:!1,editableType:{id:"",title:"",description:"",category:{},categoryId:""},confirmTypeDelete:!1,editCategoryDialogOpen:!1,editableCategory:{id:"",title:"",description:""},confirmCategoryDelete:!1}},computed:Object(y["a"])(Object(y["a"])(Object(y["a"])({},Object(L["b"])(["getCategoryTypes","getTypePins"])),Object(L["c"])({mapLocations:function(e){return e.mapLocations},categories:function(e){return e.pins.categories},types:function(e){return e.pins.types}})),{},{deleteTypeBtnLabel:function(){return this.confirmTypeDelete?"Confirm deletion":"Delete type"},deleteCategoryBtnLabel:function(){return this.confirmCategoryDelete?"Confirm deletion":"Delete Category"}}),methods:{changeMapLocation:function(e){this.$store.commit("setMapLocationIndex",e)},toggleType:function(e){e.visible=!e.visible,this.$store.commit("updateType",e)},editType:function(e){this.editableType=Object(y["a"])(Object(y["a"])({},e),{},{category:this.categories.find((function(t){return t.id===e.categoryId}))}),this.editTypeDialogOpen=!0},deleteEditableType:function(){this.confirmTypeDelete?(this.$store.dispatch("deletePrivateType",this.editableType),this.confirmTypeDelete=!1,this.closeEditTypeDialog()):this.confirmTypeDelete=!0},closeEditTypeDialog:function(){this.editTypeDialogOpen=!1},saveEditableType:function(){this.closeEditTypeDialog(),this.$store.dispatch("updatePrivateType",Object(y["a"])({},this.editableType))},createNewCategory:function(e){var t=Object(R["genRandHex"])(20);this.editableType.category={title:e,id:"private_".concat(t),visible:!0}},setTypeCategory:function(e){var t=JSON.parse(e);this.editableType.categoryId=t.id,this.editableType.category=t},editCategory:function(e){this.editableCategory=Object(y["a"])({},e),this.editCategoryDialogOpen=!0},closeEditCategoryDialog:function(){this.editCategoryDialogOpen=!1},deleteEditableCategory:function(){this.confirmCategoryDelete?(this.$store.dispatch("deletePrivateCategory",this.editableCategory),this.confirmCategoryDelete=!1,this.closeEditCategoryDialog()):this.confirmCategoryDelete=!0},saveEditableCategory:function(){this.$store.dispatch("updatePrivateCategory",Object(y["a"])({},this.editableCategory))}}},Oe=we,De=(i("2c34"),Object(c["a"])(Oe,se,re,!1,null,"44574a2a",null)),ke=De.exports,Se={name:"Home",components:{Map:ae,Sidebar:ke}},je=Se,Ie=(i("f4e7"),Object(c["a"])(je,d,f,!1,null,"ecb3ce38",null)),$e=Ie.exports;n["a"].use(u["a"]);var Ee=[{path:"/",name:"Home",component:$e}],Be=new u["a"]({mode:"history",base:"/",routes:Ee}),Me=Be,Ne=i("1da1"),Le=(i("96cf"),i("a434"),i("159b"),i("4de4"),i("e9c4"),i("bc3a")),Re=i.n(Le),Ae={state:function(){return{categories:[],types:[],pins:[]}},mutations:{setCategories:function(e,t){e.categories=t},setTypes:function(e,t){e.types=t},setPins:function(e,t){e.pins=t},addPrivateType:function(e,t){t.private=!0,e.types.push(t)},updateType:function(e,t){var i=e.types.indexOf(e.types.find((function(e){return e.id===t.id})));Object.assign(e.types[i],t)},deletePrivateType:function(e,t){var i=e.types.indexOf(e.types.find((function(e){return e.id===t.id})));e.types.splice(i,1)},updatePrivateType:function(e,t){var i=e.types.indexOf(e.types.find((function(e){return e.id===t.id})));Object.assign(e.types[i],t)},addPrivatePin:function(e,t){t.private=!0,e.pins.push(t)},deletePrivatePin:function(e,t){var i=e.pins.indexOf(e.pins.find((function(e){return e.id===t.id})));e.pins.splice(i,1)},updatePrivatePin:function(e,t){var i=e.pins.indexOf(e.pins.find((function(e){return e.id===t.id})));Object.assign(e.pins[i],t)},addPrivateCategory:function(e,t){t.private=!0,e.categories.push(t)},deletePrivateCategory:function(e,t){var i=e.categories.indexOf(e.categories.find((function(e){return e.id===t.id})));e.categories.splice(i,1)},updatePrivateCategory:function(e,t){var i=e.categories.indexOf(e.categories.find((function(e){return e.id===t.id})));Object.assign(e.categories[i],t)},setPrivateCategories:function(e,t){t.forEach((function(e){e.private=!0})),e.categories=e.categories.concat(t)},setPrivateTypes:function(e,t){t.forEach((function(e){e.private=!0})),e.types=e.types.concat(t)},setPrivatePins:function(e,t){t.forEach((function(e){e.private=!0})),e.pins=e.pins.concat(t)}},actions:{fetchAll:function(e){return Object(Ne["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.dispatch,t.next=3,i("fetchCategories");case 3:return t.next=5,i("fetchTypes");case 5:return t.next=7,i("fetchPins");case 7:i("loadPrivateData");case 8:case"end":return t.stop()}}),t)})))()},fetchCategories:function(e){return Object(Ne["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,Re.a.get("/categories").then((function(e){var t=e.data.data.categories;t.forEach((function(e){e.private=!1})),i("setCategories",t)}));case 3:case"end":return t.stop()}}),t)})))()},fetchTypes:function(e){return Object(Ne["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,Re.a.get("/types").then((function(e){var t=e.data.data.types;t.forEach((function(e){e.visible=!0,e.private=!1})),i("setTypes",t)}));case 3:case"end":return t.stop()}}),t)})))()},fetchPins:function(e){return Object(Ne["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,Re.a.get("/pins").then((function(e){var t=e.data.data.pins;t.forEach((function(e){e.private=!1})),i("setPins",t)}));case 3:case"end":return t.stop()}}),t)})))()},loadPrivateData:function(e){var t=e.commit,i=localStorage.getItem("privateData");if(i){var n=JSON.parse(i);t("setPrivateCategories",n.categories),t("setPrivateTypes",n.types),t("setPrivatePins",n.pins)}},createNecessaryCategoriesForType:function(e,t){var i=e.state,n=e.commit,a=i.categories.find((function(e){return e.id===t.category.id}));return a||n("addPrivateCategory",t.category),t.categoryId=t.category.id,delete t.category,Promise.resolve()},createNecessaryTypesAndCategoriesForPin:function(e,t){var i=e.state,n=e.commit,a=i.categories.find((function(e){return e.id===t.category.id}));a||n("addPrivateCategory",t.category),t.categoryId=t.category.id;var s=i.types.find((function(e){return e.id===t.type.id})),r=t.type.categoryId===t.category.id;if(s||(t.type.categoryId=t.category.id,n("addPrivateType",t.type)),!r&&s){var o=Object(y["a"])(Object(y["a"])({},t.type),{},{id:"private_".concat(t.type.id),categoryId:t.category.id});t.type=o;var c=i.types.find((function(e){return e.id===o.id}));c||n("addPrivateType",t.type)}return t.typeId=t.type.id,delete t.category,delete t.type,Promise.resolve()},addPrivatePin:function(e,t){return Object(Ne["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,a=e.dispatch,i.next=3,a("createNecessaryTypesAndCategoriesForPin",t);case 3:n("addPrivatePin",t),a("savePrivateData");case 5:case"end":return i.stop()}}),i)})))()},updatePrivatePin:function(e,t){return Object(Ne["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,a=e.dispatch,i.next=3,a("createNecessaryTypesAndCategoriesForPin",t);case 3:n("updatePrivatePin",t),a("savePrivateData");case 5:case"end":return i.stop()}}),i)})))()},deletePrivatePin:function(e,t){var i=e.dispatch,n=e.commit;n("deletePrivatePin",t),i("savePrivateData")},updatePrivateType:function(e,t){return Object(Ne["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.dispatch,a=e.commit,i.next=3,n("createNecessaryCategoriesForType",t);case 3:a("updatePrivateType",t),n("savePrivateData");case 5:case"end":return i.stop()}}),i)})))()},deletePrivateType:function(e,t){var i=e.state,n=e.dispatch,a=e.commit,s=i.pins.filter((function(e){return e.typeId===t.id}));s.forEach((function(e){a("deletePrivatePin",e)})),a("deletePrivateType",t),n("savePrivateData")},updatePrivateCategory:function(e,t){return Object(Ne["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=e.dispatch,a=e.commit,a("updatePrivateCategory",t),n("savePrivateData");case 3:case"end":return i.stop()}}),i)})))()},deletePrivateCategory:function(e,t){var i=e.state,n=e.dispatch,a=e.commit,s=i.types.filter((function(e){return e.categoryId===t.id}));s.forEach((function(e){var t=i.pins.filter((function(t){return t.typeId===e.id}));t.forEach((function(e){a("deletePrivatePin",e)})),a("deletePrivateType",e)})),a("deletePrivateCategory",t),n("savePrivateData")},savePrivateData:function(e){var t=e.getters;localStorage.setItem("privateData",JSON.stringify({categories:t["privateCategories"],types:t["privateTypes"],pins:t["privatePins"]}))}},getters:{publicCategories:function(e){return e.categories.filter((function(e){return!e.private}))},publicTypes:function(e){return e.types.filter((function(e){return!e.private}))},publicPins:function(e){return e.pins.filter((function(e){return!e.private}))},privateCategories:function(e){return e.categories.filter((function(e){return e.private}))},privateTypes:function(e){return e.types.filter((function(e){return e.private}))},privatePins:function(e){return e.pins.filter((function(e){return e.private}))},getType:function(e){return function(t){return e.types.find((function(e){return e.id===t}))}},getCategoryTypes:function(e){return function(t){return e.types.filter((function(e){return e.categoryId===t}))}},getTypePins:function(e){return function(t){return e.pins.filter((function(e){return e.typeId===t}))}}}};n["a"].use(L["a"]);var Ve=new L["a"].Store({state:{mapLocationIndex:0,mapLocations:[{name:"Azura",path:"Azura_WIP.webp"},{name:"Farmlands",path:"Farmlands_WIP.webp"}]},mutations:{setMapLocationIndex:function(e,t){e.mapLocationIndex=t}},actions:{},modules:{pins:Ae}});Re.a.defaults.baseURL="/api",n["a"].config.productionTip=!1,new n["a"]({router:Me,store:Ve,render:function(e){return e(p)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";i("9c0c")},"5d43":function(e,t,i){},"64ff":function(e,t,i){"use strict";i("e1b4")},"66a7":function(e,t,i){},"6aaf":function(e,t,i){"use strict";i("bcc3")},9824:function(e,t,i){"use strict";i("5d43")},"9c0c":function(e,t,i){},"9d5f":function(e,t,i){},a956:function(e,t,i){},aae3:function(e,t,i){"use strict";i("5379")},baf6:function(e,t,i){},bcc3:function(e,t,i){},c3ee:function(e,t,i){},e1b4:function(e,t,i){},e1f0:function(e,t,i){},f4e7:function(e,t,i){"use strict";i("2d3e")},f6d0:function(e,t,i){"use strict";i("66a7")},f6dc:function(e,t,i){},fa7d:function(e,t,i){var n=i("448a").default;i("a15b"),i("d81d"),i("d3b7"),i("25f0"),e.exports={genRandHex:function(e){return n(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")}}}});
//# sourceMappingURL=app.f1f06464.js.map